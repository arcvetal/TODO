var taskList=document.querySelector(".task-list"),templateList=document.querySelector(".list-template__task-list"),deleteIcon=document.querySelector(".delete-icon"),deleteIconTemplate=document.querySelector(".delete-icon--template"),taskReadyArr=[].slice.call(taskList.querySelectorAll(".task__ready")),doneMark=document.querySelector(".task__ready--done");doneMark&&deleteIcon.classList.add("delete-icon--show");var onTaskDone=function(t){t.addEventListener("click",function(e){e.target.classList.contains("task__ready")&&(e.target.classList.toggle("task__ready--done"),e.target.nextElementSibling.classList.toggle("task__text--done"),e.target.parentElement.classList.toggle("task--done"),t.querySelector(".task__ready--done")?deleteIcon.classList.add("delete-icon--show"):deleteIcon.classList.remove("delete-icon--show"))})};onTaskDone(taskList),deleteIcon.addEventListener("click",function(e){for(var t=[].slice.call(document.querySelectorAll(".task--done")),a=0;a<t.length;a++)t[a].remove();deleteIcon.classList.remove("delete-icon--show"),updateData()});var formBtn=document.querySelector(".form__btn"),btnList=document.querySelector(".create__items"),overlay=document.querySelector(".overlay");formBtn.addEventListener("click",function(e){formBtn.classList.toggle("form__btn--active"),btnList.classList.toggle("create__items--active"),overlay.classList.toggle("overlay--active")});var listTemplate=document.querySelector(".list-template"),templateTitile=listTemplate.querySelector(".list-template__title"),templateCount=listTemplate.querySelector(".list-template__count"),templateTaskList=document.querySelector(".list-template__task-list"),templateItem=document.querySelector(".list-template__task--template"),templateReady=templateItem.querySelector(".list-template__task-ready"),templateText=templateItem.querySelector(".list-template__task-text"),templateDate=templateItem.querySelector("task__date"),categoryList=document.querySelector(".category__list"),callback=function(e){var t=e.target;"LI"===event.target.parentElement.tagName&&(t=event.target.parentElement);var a=getComputedStyle(t).getPropertyValue("background-color"),l=t.firstElementChild.innerText,n=t.lastElementChild.innerText;listTemplate.style.backgroundColor=a,templateTitile.textContent=l,templateCount.textContent=n;var c=t.id.slice(4);!function(){for(var e=[].slice.call(taskList.querySelectorAll(".task--"+c)),t=document.createDocumentFragment(),a=0;a<e.length;a++){var l=document.createElement("div");l.classList.add("list-template__task"),l.classList.add("list-template__task--template");var n=document.createElement("div");n.classList.add("list-template__task-ready"),l.appendChild(n);var s=document.createElement("p");s.classList.add("list-template__task-text"),l.appendChild(s);var o=document.createElement("span");o.classList.add("list-template__task-date"),l.appendChild(o),s.textContent=e[a].textContent,t.appendChild(l)}templateTaskList.innerHTML="",templateTaskList.appendChild(t)}()};categoryList.addEventListener("click",callback),onTaskDone(templateTaskList);var onTaskDoneTemplate=function(t){t.addEventListener("click",function(e){e.target.classList.contains("list-template__task-ready")&&(e.target.classList.toggle("list-template__task-ready--done"),e.target.nextElementSibling.classList.toggle("list-template__task-text--done"),e.target.parentElement.classList.toggle("list-template__task--done"),t.querySelector(".list-template__task-ready--done")?deleteIconTemplate.classList.add("delete-icon--show"):deleteIconTemplate.classList.remove("delete-icon--show"))})};onTaskDoneTemplate(templateList),deleteIconTemplate.addEventListener("click",function(e){for(var t=[].slice.call(document.querySelectorAll(".list-template__task--done")),a=[],l=0;l<t.length;l++)a[l]=t[l].textContent,t[l].remove();console.dir(a);var n=[].slice.call(taskList.querySelectorAll(".task"));for(l=0;l<t.length;l++)for(var s=0;s<n.length;s++)n[s].textContent===t[l].textContent&&n[s].remove();deleteIconTemplate.classList.remove("delete-icon--show"),updateData()});var updateData=function(){for(var e=[].slice.call(taskList.querySelectorAll(".task")),t=[].slice.call(categoryList.querySelectorAll(".category__item")),a={},l=0;l<t.length;l++)a[t[l].id.slice(4)]=0;!function(e){var t,a;for(key in e)a=categoryList.querySelector("#cat_"+key+" .category__count"),0===(t=e[key])?a.innerText="Нет задач":1===t?a.innerText=t+" задача":2<=t&&t<=4?a.innerText=t+" задачи":5<=t&&t<=20&&(a.innerText=t+" задач")}(function(e,t){for(var a=0;a<e.length;a++)e[a].classList.contains("task--work")?t.work++:e[a].classList.contains("task--personal")?t.personal++:e[a].classList.contains("task--shopping")?t.shopping++:e[a].classList.contains("task--family")?t.family++:e[a].classList.contains("task--warning")&&t.warning++;return t}(e,a))};updateData();var createNewTask=function(){document.createElement("div").classList.add("new-task");var e=document.createElement("div"),t=document.createElement("button"),a=document.createElement("button");e.appendChild(t),e.appendChild(a);var l=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("input");n.appendChild(s),n.appendChild(o),l.appendChild(n)},inputNewTask=document.querySelector("#new-task-1");inputNewTask.addEventListener("input",function(e){console.log(e.target.value)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhc2stbWFyay1hbmltYXRlLmpzIl0sIm5hbWVzIjpbInRhc2tMaXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGVtcGxhdGVMaXN0IiwiZGVsZXRlSWNvbiIsImRlbGV0ZUljb25UZW1wbGF0ZSIsInRhc2tSZWFkeUFyciIsInNsaWNlIiwiY2FsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkb25lTWFyayIsImNsYXNzTGlzdCIsImFkZCIsIm9uVGFza0RvbmUiLCJ3cmFwcGVyTm9kZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJ0b2dnbGUiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlIiwidGFza0RvbmVBcnIiLCJpIiwibGVuZ3RoIiwidXBkYXRlRGF0YSIsImZvcm1CdG4iLCJidG5MaXN0Iiwib3ZlcmxheSIsImxpc3RUZW1wbGF0ZSIsInRlbXBsYXRlVGl0aWxlIiwidGVtcGxhdGVDb3VudCIsInRlbXBsYXRlVGFza0xpc3QiLCJ0ZW1wbGF0ZUl0ZW0iLCJ0ZW1wbGF0ZVJlYWR5IiwidGVtcGxhdGVUZXh0IiwidGVtcGxhdGVEYXRlIiwiY2F0ZWdvcnlMaXN0IiwiY2FsbGJhY2siLCJ0YXJnIiwiZXZlbnQiLCJ0YWdOYW1lIiwiY29sb3JUYXJnZXQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInRpdGxlVGFyZ2V0IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJpbm5lclRleHQiLCJjb3VudGVyVGFyZ2V0IiwibGFzdEVsZW1lbnRDaGlsZCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwidGV4dENvbnRlbnQiLCJpZENhdGVnb3J5IiwiaWQiLCJ0ZW1wbGF0ZVRhc2tBcnIiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJuZXdJdGVtIiwiY3JlYXRlRWxlbWVudCIsIm5ld0l0ZW1SZWFkeSIsImFwcGVuZENoaWxkIiwibmV3SXRlbVRleHQiLCJuZXdJdGVtRGF0ZSIsImlubmVySFRNTCIsImNyZWF0ZVRhc2tFbGVtIiwib25UYXNrRG9uZVRlbXBsYXRlIiwidGV4dENvbnRlbnRBcnIiLCJjb25zb2xlIiwiZGlyIiwidGFza3NBcnIiLCJrIiwiY2F0ZWdvcmllc0FyciIsImNhdGVnb3JpZXNJZE9iaiIsIm9iaiIsImN1cnJlbnRWYWx1ZUNvdW50ZXIiLCJwQ291bnRlciIsImtleSIsImNvbWJpZW5kVGFza1dvcmRzIiwiYXJyYXkiLCJ3b3JrIiwicGVyc29uYWwiLCJzaG9wcGluZyIsImZhbWlseSIsIndhcm5pbmciLCJjb3VudFRhc2tzIiwiY3JlYXRlTmV3VGFzayIsImJ0bldyYXBwZXIiLCJidG5DYW5jZWwiLCJidG5Eb25lIiwibmV3VGFza0xpc3QiLCJuZXdUYXNrSXRlbSIsIm5ld1Rhc2tEb25lIiwibmV3VGFza0lucHV0IiwiaW5wdXROZXdUYXNrIiwibG9nIiwidmFsdWUiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFNBQVdDLFNBQVNDLGNBQWMsY0FDbENDLGFBQWVGLFNBQVNDLGNBQWMsNkJBQ3RDRSxXQUFhSCxTQUFTQyxjQUFjLGdCQUNwQ0csbUJBQXFCSixTQUFTQyxjQUFjLDBCQUM1Q0ksYUFBZSxHQUFHQyxNQUFNQyxLQUFLUixTQUFTUyxpQkFBaUIsaUJBSXZEQyxTQUFXVCxTQUFTQyxjQUFjLHNCQUVsQ1EsVUFDRk4sV0FBV08sVUFBVUMsSUFBSSxxQkFJM0IsSUFBSUMsV0FBYSxTQUFVQyxHQUV6QkEsRUFBWUMsaUJBQWlCLFFBQVMsU0FBU0MsR0FHekNBLEVBQUVDLE9BQU9OLFVBQVVPLFNBQVMsaUJBQzlCRixFQUFFQyxPQUFPTixVQUFVUSxPQUFPLHFCQUMxQkgsRUFBRUMsT0FBT0csbUJBQW1CVCxVQUFVUSxPQUFPLG9CQUM3Q0gsRUFBRUMsT0FBT0ksY0FBY1YsVUFBVVEsT0FBTyxjQUd6QkwsRUFBWVosY0FBYyxzQkFHdkNFLFdBQVdPLFVBQVVDLElBQUkscUJBRXpCUixXQUFXTyxVQUFVVyxP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dGVudCI6WyJ2YXIgdGFza0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFzay1saXN0Jyk7XG52YXIgdGVtcGxhdGVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtdGVtcGxhdGVfX3Rhc2stbGlzdCcpO1xudmFyIGRlbGV0ZUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlLWljb24nKTtcbnZhciBkZWxldGVJY29uVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlLWljb24tLXRlbXBsYXRlJyk7XG52YXIgdGFza1JlYWR5QXJyID0gW10uc2xpY2UuY2FsbCh0YXNrTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcudGFza19fcmVhZHknKSk7XG5cbi8vINCT0JDQm9Ce0KfQmtCQINCYINCX0JDQp9CV0KDQmtCY0JLQkNCd0JjQlSDQotCQ0KHQmtCQXG5cbnZhciBkb25lTWFyayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrX19yZWFkeS0tZG9uZScpO1xuXG5pZiAoZG9uZU1hcmspIHtcbiAgZGVsZXRlSWNvbi5jbGFzc0xpc3QuYWRkKCdkZWxldGUtaWNvbi0tc2hvdycpO1xufVxuXG5cbnZhciBvblRhc2tEb25lID0gZnVuY3Rpb24gKHdyYXBwZXJOb2RlKSB7XG5cbiAgd3JhcHBlck5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXtcblxuICAgIC8vINCj0YHRgtCw0L3QvtCy0LrQsCDQutCw0LvQvtGH0LrQuCDRgtCw0YHQutCwXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFza19fcmVhZHknKSkge1xuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgndGFza19fcmVhZHktLWRvbmUnKTtcbiAgICAgIGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCd0YXNrX190ZXh0LS1kb25lJyk7XG4gICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ3Rhc2stLWRvbmUnKTtcblxuICAgICAgLy8g0J/QvtGP0LLQu9C10L3QuNC1INC60L7RgNC30LjQvdC60Lgg0L/RgNC4INCy0YvQsdC+0YDQtSDRgtCw0YHQutCwXG4gICAgICB2YXIgZG9uZU1hcmsgPSB3cmFwcGVyTm9kZS5xdWVyeVNlbGVjdG9yKCcudGFza19fcmVhZHktLWRvbmUnKTtcblxuICAgICAgaWYgKGRvbmVNYXJrKSB7XG4gICAgICAgIGRlbGV0ZUljb24uY2xhc3NMaXN0LmFkZCgnZGVsZXRlLWljb24tLXNob3cnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZUljb24uY2xhc3NMaXN0LnJlbW92ZSgnZGVsZXRlLWljb24tLXNob3cnKTtcbiAgICAgIH1cbiAgICB9IFxuICAgIFxuICB9KTtcbn1cblxub25UYXNrRG9uZSh0YXNrTGlzdCk7XG4vLyBcbi8vIFxuXG5cblxuXG5cblxuXG5cbi8vINCj0JTQkNCb0JXQndCY0JUg0KLQkNCh0JrQkFxuXG5cbmRlbGV0ZUljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICB2YXIgdGFza0RvbmVBcnIgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrLS1kb25lJykpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGFza0RvbmVBcnIubGVuZ3RoOyBpKyspIHtcbiAgICB0YXNrRG9uZUFycltpXS5yZW1vdmUoKTtcbiAgICBcbiAgfVxuXG4gIGRlbGV0ZUljb24uY2xhc3NMaXN0LnJlbW92ZSgnZGVsZXRlLWljb24tLXNob3cnKTtcblxuICB1cGRhdGVEYXRhKCk7XG5cbn0pO1xuXG4vLyBcbi8vIFxuXG5cbi8vIGJ0bi1wbHVzXG5cbnZhciBmb3JtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2J0bicpO1xudmFyIGJ0bkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3JlYXRlX19pdGVtcycpO1xudmFyIG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3ZlcmxheScpO1xuXG5mb3JtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gIGZvcm1CdG4uY2xhc3NMaXN0LnRvZ2dsZSgnZm9ybV9fYnRuLS1hY3RpdmUnKTtcbiAgYnRuTGlzdC5jbGFzc0xpc3QudG9nZ2xlKCdjcmVhdGVfX2l0ZW1zLS1hY3RpdmUnKTtcbiAgb3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKCdvdmVybGF5LS1hY3RpdmUnKTtcbn0pO1xuLy8gXG4vLyBcblxuXG5cbi8vIGxpc3QtdGVtcGxhdGVcblxuLy8g0KHQntCX0JTQkNCd0JjQlSDQl9CQ0JPQntCb0J7QktCa0JAg0Jgg0KbQktCV0KLQkCDQmtCQ0KDQotCe0KfQmtCYXG52YXIgbGlzdFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtdGVtcGxhdGUnKTtcbnZhciB0ZW1wbGF0ZVRpdGlsZSA9IGxpc3RUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcubGlzdC10ZW1wbGF0ZV9fdGl0bGUnKTtcbnZhciB0ZW1wbGF0ZUNvdW50ID0gbGlzdFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5saXN0LXRlbXBsYXRlX19jb3VudCcpO1xuXG4vLyB0ZW1wbGF0ZS1saXN0XG52YXIgdGVtcGxhdGVUYXNrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0LXRlbXBsYXRlX190YXNrLWxpc3QnKTtcbnZhciB0ZW1wbGF0ZUl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGlzdC10ZW1wbGF0ZV9fdGFzay0tdGVtcGxhdGUnKTtcbnZhciB0ZW1wbGF0ZVJlYWR5ID0gdGVtcGxhdGVJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5saXN0LXRlbXBsYXRlX190YXNrLXJlYWR5Jyk7XG52YXIgdGVtcGxhdGVUZXh0ID0gdGVtcGxhdGVJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5saXN0LXRlbXBsYXRlX190YXNrLXRleHQnKTtcbnZhciB0ZW1wbGF0ZURhdGUgPSB0ZW1wbGF0ZUl0ZW0ucXVlcnlTZWxlY3RvcigndGFza19fZGF0ZScpO1xuXG5cbnZhciBjYXRlZ29yeUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcnlfX2xpc3QnKTtcblxuXG5cblxuXG52YXIgY2FsbGJhY2sgPSBmdW5jdGlvbihlKXtcbiAgdmFyIHRhcmcgPSBlLnRhcmdldDtcblxuICAvLyDRhNC40LrRgSDQstGL0LHQvtGA0LAg0LrQsNGA0YLQvtGH0LrQuFxuICBpZiAoZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQudGFnTmFtZSA9PT0gJ0xJJykge1xuICAgdGFyZyA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIFxuXG5cblxuICAvLyDQv9C+0LvRg9GH0LjQvCDRhtCy0LXRgiwg0LfQsNCz0L7Qu9C+0LLQvtC6LCDRgdGH0LXRgtGH0LjQuiDQutCw0YLQtdCz0L7RgNC40LhcbiAgdmFyIGNvbG9yVGFyZ2V0ID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnKS5nZXRQcm9wZXJ0eVZhbHVlKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gIHZhciB0aXRsZVRhcmdldCA9IHRhcmcuZmlyc3RFbGVtZW50Q2hpbGQuaW5uZXJUZXh0O1xuICB2YXIgY291bnRlclRhcmdldCA9IHRhcmcubGFzdEVsZW1lbnRDaGlsZC5pbm5lclRleHQ7XG5cblxuICAvL9C30LDQtNCw0LTQuNC8INGG0LLQtdGCLCDQt9Cw0LPQvtC70L7QstC+0LosINGB0YfQtdGC0YfQuNC6INC60LDRgNGC0L7Rh9C60LhcbiAgbGlzdFRlbXBsYXRlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yVGFyZ2V0O1xuICB0ZW1wbGF0ZVRpdGlsZS50ZXh0Q29udGVudCA9ICB0aXRsZVRhcmdldDtcbiAgdGVtcGxhdGVDb3VudC50ZXh0Q29udGVudCA9IGNvdW50ZXJUYXJnZXQ7XG5cblxuXG4gIC8vIFxuICAvLyBcblxuICAvLyDRgdC+0LHQtdGA0LXQvCDRgdC/0LjRgdC+0Log0LfQsNC00LDRh1xuICB2YXIgaWRDYXRlZ29yeSA9IHRhcmcuaWQuc2xpY2UoNCk7XG5cblxuICBmdW5jdGlvbiBjcmVhdGVUYXNrRWxlbSgpIHtcblxuICAgIHZhciB0ZW1wbGF0ZVRhc2tBcnIgPSBbXS5zbGljZS5jYWxsKHRhc2tMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrLS0nICsgaWRDYXRlZ29yeSkpO1xuXG4gICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIFxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wbGF0ZVRhc2tBcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBuZXdJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBuZXdJdGVtLmNsYXNzTGlzdC5hZGQoJ2xpc3QtdGVtcGxhdGVfX3Rhc2snKTtcbiAgICAgIG5ld0l0ZW0uY2xhc3NMaXN0LmFkZCgnbGlzdC10ZW1wbGF0ZV9fdGFzay0tdGVtcGxhdGUnKTtcblxuICAgICAgdmFyIG5ld0l0ZW1SZWFkeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbmV3SXRlbVJlYWR5LmNsYXNzTGlzdC5hZGQoJ2xpc3QtdGVtcGxhdGVfX3Rhc2stcmVhZHknKTtcbiAgICAgIG5ld0l0ZW0uYXBwZW5kQ2hpbGQobmV3SXRlbVJlYWR5KTtcblxuICAgICAgdmFyIG5ld0l0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgbmV3SXRlbVRleHQuY2xhc3NMaXN0LmFkZCgnbGlzdC10ZW1wbGF0ZV9fdGFzay10ZXh0Jyk7XG4gICAgICBuZXdJdGVtLmFwcGVuZENoaWxkKG5ld0l0ZW1UZXh0KTtcblxuICAgICAgdmFyIG5ld0l0ZW1EYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgbmV3SXRlbURhdGUuY2xhc3NMaXN0LmFkZCgnbGlzdC10ZW1wbGF0ZV9fdGFzay1kYXRlJyk7XG4gICAgICBuZXdJdGVtLmFwcGVuZENoaWxkKG5ld0l0ZW1EYXRlKTtcbiAgICAgIG5ld0l0ZW1UZXh0LnRleHRDb250ZW50ID0gdGVtcGxhdGVUYXNrQXJyW2ldLnRleHRDb250ZW50O1xuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobmV3SXRlbSk7XG4gICAgICBcbiAgICB9XG4gICAgXG4gICAgdGVtcGxhdGVUYXNrTGlzdC5pbm5lckhUTUw9ICcnO1xuICAgIHRlbXBsYXRlVGFza0xpc3QuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICB9XG5cblxuICBjcmVhdGVUYXNrRWxlbSgpO1xuICBcblxuICBcbn07XG5cbmNhdGVnb3J5TGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbGxiYWNrKTtcblxub25UYXNrRG9uZSh0ZW1wbGF0ZVRhc2tMaXN0KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vINCT0LDQu9C+0YfQutCwINC4INC/0L7Rj9Cy0LvQtdC90LjQtSDQutC+0YDQt9C40L3QutC4INCyINC60LDRgNGC0L7Rh9C60LVcblxudmFyIG9uVGFza0RvbmVUZW1wbGF0ZSA9IGZ1bmN0aW9uICh3cmFwcGVyTm9kZSkge1xuXG4gIHdyYXBwZXJOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG5cbiAgICAvLyDQo9GB0YLQsNC90L7QstC60LAg0LrQsNC70L7Rh9C60Lgg0YLQsNGB0LrQsFxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3QtdGVtcGxhdGVfX3Rhc2stcmVhZHknKSkge1xuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnbGlzdC10ZW1wbGF0ZV9fdGFzay1yZWFkeS0tZG9uZScpO1xuICAgICAgZS50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoJ2xpc3QtdGVtcGxhdGVfX3Rhc2stdGV4dC0tZG9uZScpO1xuICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdsaXN0LXRlbXBsYXRlX190YXNrLS1kb25lJyk7XG5cbiAgICAgIC8vINCf0L7Rj9Cy0LvQtdC90LjQtSDQutC+0YDQt9C40L3QutC4INC/0YDQuCDQstGL0LHQvtGA0LUg0YLQsNGB0LrQsFxuICAgICAgdmFyIGRvbmVNYXJrID0gd3JhcHBlck5vZGUucXVlcnlTZWxlY3RvcignLmxpc3QtdGVtcGxhdGVfX3Rhc2stcmVhZHktLWRvbmUnKTtcblxuICAgICAgaWYgKGRvbmVNYXJrKSB7XG4gICAgICAgIGRlbGV0ZUljb25UZW1wbGF0ZS5jbGFzc0xpc3QuYWRkKCdkZWxldGUtaWNvbi0tc2hvdycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlSWNvblRlbXBsYXRlLmNsYXNzTGlzdC5yZW1vdmUoJ2RlbGV0ZS1pY29uLS1zaG93Jyk7XG4gICAgICB9XG4gICAgfSBcbiAgICBcbiAgfSk7XG59XG5cbm9uVGFza0RvbmVUZW1wbGF0ZSh0ZW1wbGF0ZUxpc3QpO1xuXG4vLyDQo9CU0JDQm9CV0J3QmNCVINCi0JDQodCa0JAg0JIg0JrQkNCg0KLQntCn0JrQlVxuXG5kZWxldGVJY29uVGVtcGxhdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICB2YXIgdGFza0RvbmVBcnIgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5saXN0LXRlbXBsYXRlX190YXNrLS1kb25lJykpO1xuXG4gIHZhciB0ZXh0Q29udGVudEFyciA9IFtdO1xuICBcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YXNrRG9uZUFyci5sZW5ndGg7IGkrKykge1xuICAgIHRleHRDb250ZW50QXJyW2ldID0gdGFza0RvbmVBcnJbaV0udGV4dENvbnRlbnQ7XG4gICAgdGFza0RvbmVBcnJbaV0ucmVtb3ZlKCk7XG4gICAgXG4gIH1cblxuICBjb25zb2xlLmRpcih0ZXh0Q29udGVudEFycik7XG5cblxuXG4gIHZhciB0YXNrc0FyciA9IFtdLnNsaWNlLmNhbGwodGFza0xpc3QucXVlcnlTZWxlY3RvckFsbCgnLnRhc2snKSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YXNrRG9uZUFyci5sZW5ndGg7IGkrKykge1xuICAgIFxuXG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCB0YXNrc0Fyci5sZW5ndGg7IGsrKykge1xuICAgICAgaWYgKHRhc2tzQXJyW2tdLnRleHRDb250ZW50ID09PSB0YXNrRG9uZUFycltpXS50ZXh0Q29udGVudCkge1xuICAgICAgICB0YXNrc0FycltrXS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH1cbiAgICBcbiAgfVxuXG5cblxuICBkZWxldGVJY29uVGVtcGxhdGUuY2xhc3NMaXN0LnJlbW92ZSgnZGVsZXRlLWljb24tLXNob3cnKTtcblxuXG4gIHVwZGF0ZURhdGEoKTtcblxufSk7XG5cblxuLy8g0JrQntCb0JjQp9CV0KHQotCS0J4g0JfQkNCU0JDQp1xuIFxuXG5cbnZhciB1cGRhdGVEYXRhID0gZnVuY3Rpb24gKCkge1xuICAvLyDRgdC+0LHQtdGA0LXQvCDQuCDRgdCz0YDRg9C/0LjRgNGD0LXQvCDRgtCw0YHQutC4INC/0L4g0LrQsNGC0LXQs9C+0YDQuNGP0Lwg0LIg0L7QsdGM0LXQutGCXG5cbiAgdmFyIHRhc2tzQXJyID0gW10uc2xpY2UuY2FsbCh0YXNrTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcudGFzaycpKTtcblxuICB2YXIgY2F0ZWdvcmllc0FyciA9IFtdLnNsaWNlLmNhbGwoY2F0ZWdvcnlMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRlZ29yeV9faXRlbScpKTtcblxuICB2YXIgY2F0ZWdvcmllc0lkT2JqID0ge307XG4gIFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhdGVnb3JpZXNBcnIubGVuZ3RoOyBpKyspIHtcbiAgICBjYXRlZ29yaWVzSWRPYmpbY2F0ZWdvcmllc0FycltpXS5pZC5zbGljZSg0KV0gPSAwO1xuICB9XG4gIFxuXG4gIFxuICBcbiAgXG4gIC8vIFxuXG4gIC8vINCf0J7QlNCh0KfQldCiINCi0JDQodCa0J7QkiDQn9CeINCa0JDQotCV0JPQntCg0JjQr9CcXG5cbiAgdmFyIGNvdW50VGFza3MgPSBmdW5jdGlvbiAoYXJyYXksIG9iaikge1xuICAgIFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcblxuICAgICAgXG4gICAgICBpZiAoYXJyYXlbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXNrLS13b3JrJykpIHtcbiAgICAgICAgb2JqLndvcmsrKztcbiAgICAgIH0gZWxzZSBpZiAoYXJyYXlbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXNrLS1wZXJzb25hbCcpKXtcbiAgICAgICAgb2JqLnBlcnNvbmFsKys7XG4gICAgICB9IGVsc2UgaWYgKGFycmF5W2ldLmNsYXNzTGlzdC5jb250YWlucygndGFzay0tc2hvcHBpbmcnKSl7XG4gICAgICAgIG9iai5zaG9wcGluZysrO1xuICAgICAgfSBlbHNlIGlmIChhcnJheVtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Rhc2stLWZhbWlseScpKXtcbiAgICAgICAgb2JqLmZhbWlseSsrO1xuICAgICAgfSBlbHNlIGlmIChhcnJheVtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3Rhc2stLXdhcm5pbmcnKSl7XG4gICAgICAgIG9iai53YXJuaW5nKys7XG4gICAgICB9XG4gICAgICBcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG5cbiAgXG5cbiAgdmFyIHJlc3VsID0gY291bnRUYXNrcyh0YXNrc0FyciwgY2F0ZWdvcmllc0lkT2JqKTtcbiAgXG4gIC8vIFxuXG4gIC8vINCe0JrQntCd0KfQkNCd0JjQlSDQodCb0J7QktCQIFwi0JfQkNCU0JDQp9CQXCJcblxuICB2YXIgY29tYmllbmRUYXNrV29yZHMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgXG4gICAgdmFyIGN1cnJlbnRWYWx1ZUNvdW50ZXI7XG4gICAgdmFyIHBDb3VudGVyO1xuICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgcENvdW50ZXIgPSBjYXRlZ29yeUxpc3QucXVlcnlTZWxlY3RvcignI2NhdF8nICsga2V5ICsgJyAuY2F0ZWdvcnlfX2NvdW50Jyk7XG4gICAgICBjdXJyZW50VmFsdWVDb3VudGVyID0gb2JqW2tleV0gO1xuICAgICAgaWYgKGN1cnJlbnRWYWx1ZUNvdW50ZXIgPT09IDApIHtcbiAgICAgICAgcENvdW50ZXIuaW5uZXJUZXh0ID0gJ9Cd0LXRgiDQt9Cw0LTQsNGHJztcbiAgICAgIH0gZWxzZSBpZihjdXJyZW50VmFsdWVDb3VudGVyID09PSAxKXtcbiAgICAgICAgcENvdW50ZXIuaW5uZXJUZXh0ID0gY3VycmVudFZhbHVlQ291bnRlciArICcg0LfQsNC00LDRh9CwJztcbiAgICAgIH0gZWxzZSBpZihjdXJyZW50VmFsdWVDb3VudGVyID49IDIgJiYgY3VycmVudFZhbHVlQ291bnRlciA8PSA0KXtcbiAgICAgICAgcENvdW50ZXIuaW5uZXJUZXh0ID0gY3VycmVudFZhbHVlQ291bnRlciArICcg0LfQsNC00LDRh9C4JztcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudFZhbHVlQ291bnRlciA+PSA1ICYmIGN1cnJlbnRWYWx1ZUNvdW50ZXIgPD0gMjApIHtcbiAgICAgICAgcENvdW50ZXIuaW5uZXJUZXh0ID0gY3VycmVudFZhbHVlQ291bnRlciArICcg0LfQsNC00LDRhyc7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBjb21iaWVuZFRhc2tXb3JkcyhyZXN1bCk7XG5cbn1cblxudXBkYXRlRGF0YSgpO1xuICBcbiAgXG4vLyDQntCi0KDQmNCh0J7QktCa0JAg0J7QmtCd0JAg0J3QntCS0J7Qk9CeINCi0JDQodCa0JAgXG5cbnZhciBjcmVhdGVOZXdUYXNrID0gZnVuY3Rpb24oKSB7XG5cbi8vINC+0LrQvdC+XG4gIHZhciBuZXdUYXNrV2luZG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5ld1Rhc2tXaW5kb3cuY2xhc3NMaXN0LmFkZCgnbmV3LXRhc2snKTtcblxuLy8g0LrQvdC+0L/QutC4INC+0YLQvNC10L3QsCDQuCDQs9C+0YLQvtCy0L4gXG4gIHZhciBidG5XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHZhciBidG5DYW5jZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgdmFyIGJ0bkRvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICBidG5XcmFwcGVyLmFwcGVuZENoaWxkKGJ0bkNhbmNlbCk7XG4gIGJ0bldyYXBwZXIuYXBwZW5kQ2hpbGQoYnRuRG9uZSk7XG5cbi8vINGB0L/QuNGB0L7Qui3QvtCx0LXRgNGC0LrQsCDQuCDQvtC00LjQvSDRgtCw0YHQulxuICB2YXIgbmV3VGFza0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdmFyIG5ld1Rhc2tJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHZhciBuZXdUYXNrRG9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB2YXIgbmV3VGFza0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICBuZXdUYXNrSXRlbS5hcHBlbmRDaGlsZChuZXdUYXNrRG9uZSk7XG4gIG5ld1Rhc2tJdGVtLmFwcGVuZENoaWxkKG5ld1Rhc2tJbnB1dCk7XG4gIG5ld1Rhc2tMaXN0LmFwcGVuZENoaWxkKG5ld1Rhc2tJdGVtKTtcbn1cblxuXG5cbi8vINCg0JDQkdCe0KLQkCDQoSDQndCe0JLQq9CcINCi0JDQodCa0J7QnFxuXG52YXIgaW5wdXROZXdUYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ldy10YXNrLTEnKTtcblxuaW5wdXROZXdUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSl7XG4gIGNvbnNvbGUubG9nKGUudGFyZ2V0LnZhbHVlKTtcblxufSk7Il19
